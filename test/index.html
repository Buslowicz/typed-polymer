<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link href="mocha.css" rel="stylesheet" />
</head>
<body>
<script>
  var params = {};
  location.search.slice(1).replace(/([\w]+)=([\w]+)/g, function (q, key, value) {params[key] = value});
  if (params.dom === "shadow") {
    document.write("<h1>Shadow Dom</h1>");
  } else {
    document.write("<h1>Shady Dom</h1>");
  }
</script>
<div id="mocha"></div>

<script src="../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
<link rel="import" href="../bower_components/polymer/polymer.html">

<script src="../node_modules/mocha/mocha.js"></script>
<script src="../node_modules/chai/chai.js"></script>

<script>mocha.setup('bdd')</script>
<script>
  window.addEventListener('WebComponentsReady', function(e) {
    var script = document.createElement("script");
    script.src = "tests.js";
    script.onload = function() {
      mocha.checkLeaks();
      mocha.globals(['Polymer']);
      mocha.run();
    };
    document.body.appendChild(script);
  });
</script>
</body>
</html>